"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7464],{3613:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/login_email_pass_field_error_submit-3b8a36a5c7e11797b98a16f952be4cf9.gif"},5369:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/login_google-9e509119e6187507745cfd721bb036b3.gif"},5860:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/login_email_pass_field_error_changed-a672d400dc62ca73bc2a7604181e7e4d.gif"},7473:(e,t,i)=>{i.d(t,{A:()=>A});var n=i(6540),s=i(4164),o=i(102),r=i(6289),a=i(797);const l=["zero","one","two","few","many","other"];function d(e){return l.filter((t=>e.includes(t)))}const c={locale:"en",pluralForms:d(["one","other"]),select:e=>1===e?"one":"other"};function h(){const{i18n:{currentLocale:e}}=(0,a.A)();return(0,n.useMemo)((()=>{try{return function(e){const t=new Intl.PluralRules(e);return{locale:e,pluralForms:d(t.resolvedOptions().pluralCategories),select:e=>t.select(e)}}(e)}catch(t){return console.error(`Failed to use Intl.PluralRules for locale "${e}".\nDocusaurus will fallback to the default (English) implementation.\nError: ${t.message}\n`),c}}),[e])}function u(){const e=h();return{selectMessage:(t,i)=>function(e,t,i){const n=e.split("|");if(1===n.length)return n[0];n.length>i.pluralForms.length&&console.error(`For locale=${i.locale}, a maximum of ${i.pluralForms.length} plural forms are expected (${i.pluralForms.join(",")}), but the message contains ${n.length}: ${e}`);const s=i.select(t),o=i.pluralForms.indexOf(s);return n[Math.min(o,n.length-1)]}(i,t,e)}}var g=i(2887),m=i(539),p=i(9303);const f={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};var x=i(4848);function w({href:e,children:t}){return(0,x.jsx)(r.A,{href:e,className:(0,s.A)("card padding--lg",f.cardContainer),children:t})}function j({href:e,icon:t,title:i,description:n}){return(0,x.jsxs)(w,{href:e,children:[(0,x.jsxs)(p.A,{as:"h2",className:(0,s.A)("text--truncate",f.cardTitle),title:i,children:[t," ",i]}),n&&(0,x.jsx)("p",{className:(0,s.A)("text--truncate",f.cardDescription),title:n,children:n})]})}function b({item:e}){const t=(0,o.Nr)(e),i=function(){const{selectMessage:e}=u();return t=>e(t,(0,m.T)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:t}))}();return t?(0,x.jsx)(j,{href:t,icon:"\ud83d\uddc3\ufe0f",title:e.label,description:e.description??i(e.items.length)}):null}function v({item:e}){const t=(0,g.A)(e.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",i=(0,o.cC)(e.docId??void 0);return(0,x.jsx)(j,{href:e.href,icon:t,title:e.label,description:e.description??i?.description})}function y({item:e}){switch(e.type){case"link":return(0,x.jsx)(v,{item:e});case"category":return(0,x.jsx)(b,{item:e});default:throw new Error(`unknown item type ${JSON.stringify(e)}`)}}function _({className:e}){const t=(0,o.$S)();return(0,x.jsx)(A,{items:t.items,className:e})}function A(e){const{items:t,className:i}=e;if(!t)return(0,x.jsx)(_,{...e});const n=(0,o.d1)(t);return(0,x.jsx)("section",{className:(0,s.A)("row",i),children:n.map(((e,t)=>(0,x.jsx)("article",{className:"col col--6 margin-bottom--lg",children:(0,x.jsx)(y,{item:e})},t)))})}},8272:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"development/features/login/features-login","title":"Login Overview","description":"We decided to make the login feature separated from the signup feature, as their functionality do not have any overlap. The login feature is designed to handle login requests via email and password, as well as Google sign-in.","source":"@site/docs/development/features/login/index.mdx","sourceDirName":"development/features/login","slug":"/development/features/login/","permalink":"/tutorlm/docs/development/features/login/","draft":false,"unlisted":false,"editUrl":"https://github.com/ohjime/tutorlm/tree/main/docs/docs/development/features/login/index.mdx","tags":[],"version":"current","lastUpdatedAt":1748745783000,"frontMatter":{"id":"features-login","sidebar_label":"Login Feature"},"sidebar":"developmentSidebar","previous":{"title":"App Views","permalink":"/tutorlm/docs/development/features/app/view-app"},"next":{"title":"Login State Machine","permalink":"/tutorlm/docs/development/features/login/cubit-login"}}');var s=i(4848),o=i(8453),r=i(7473);const a={id:"features-login",sidebar_label:"Login Feature"},l="Login Overview",d={},c=[{value:"Dependencies",id:"dependencies",level:2},{value:"Feature Overview",id:"feature-overview",level:2},{value:"Login with Email and Password",id:"login-with-email-and-password",level:3},{value:"Login with Google",id:"login-with-google",level:3},{value:"Forgot Password",id:"forgot-password",level:3}];function h(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"login-overview",children:"Login Overview"})}),"\n",(0,s.jsx)(t.p,{children:"We decided to make the login feature separated from the signup feature, as their functionality do not have any overlap. The login feature is designed to handle login requests via email and password, as well as Google sign-in."}),"\n",(0,s.jsx)(t.p,{children:"Since this functionality is isolated from the rest of the app, it would be easy to implement new methods of login, with little worry about how it would integrate. A future method of login that would be interesting is password-less login, which would allow users to login via a link sent to their email. This would be a great addition to the app, as it would allow users to login without having to remember a password."}),"\n",(0,s.jsx)(t.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,s.jsx)(t.p,{children:"The core functionality of the login feature is handled by its state machine, which only has one direct external dependency:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://pub.dev/packages/flutter_bloc",children:(0,s.jsx)(t.code,{children:"flutter_bloc"})}),": This package provides a way to manage the state of the application using the BLoC (Business Logic Component) pattern. It allows us to separate the business logic from the UI, making it easier to test and maintain."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://github.com/ohjime/tutorlm/blob/main/lib/core/repositories/authentication_repository.dart",children:(0,s.jsx)(t.code,{children:"core.authentication_repository"})}),": This is our local package that provides a simple interface for our application to handle our authentication and sign up needs as we require."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The UI of the login feature is built using Flutter, and the following external dependencies:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://pub.dev/packages/delayed_display",children:(0,s.jsx)(t.code,{children:"delayed_display"})}),": For animating the appearance of UI elements with customizable delays and transitions."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://pub.dev/packages/flutter_form_builder",children:(0,s.jsx)(t.code,{children:"flutter_form_builder"})}),": Provides a rich set of form widgets and utilities for building and managing complex forms."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://pub.dev/packages/form_builder_validators",children:(0,s.jsx)(t.code,{children:"form_builder_validators"})}),": Offers a collection of validation functions to ensure form input integrity."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://pub.dev/packages/awesome_dialog",children:(0,s.jsx)(t.code,{children:"awesome_dialog"})}),": Used to display customizable modal dialogs for info, success, warning, and error states."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://pub.dev/packages/font_awesome_flutter",children:(0,s.jsx)(t.code,{children:"font_awesome_flutter"})}),": Supplies a wide range of Font Awesome icons for use throughout the UI."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Further details on the fucntionality of the Login State Machine and its Views are available in the following sub-sections:"}),"\n",(0,s.jsx)(r.A,{layout:"twoColumn"}),"\n",(0,s.jsx)(t.h2,{id:"feature-overview",children:"Feature Overview"}),"\n",(0,s.jsx)(t.p,{children:"Below is a detailed breakdown of each implemented functionality within the login feature. Each point is cross-referenced with the user stories that guided its development, ensuring a user-centric approach to the design and implementation:"}),"\n",(0,s.jsx)(t.h3,{id:"login-with-email-and-password",children:"Login with Email and Password"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"User Story #60"})}),": ",(0,s.jsx)(t.em,{children:'"As a user I would like to be able to log in with my email and password so that I can securely access my account"'})]}),"\n",(0,s.jsx)(t.p,{children:"Users will want the login feature to allow them to log in using their email and password. This is a common authentication method that users are familiar with, and it provides a straightforward way for them to access their accounts."}),"\n",(0,s.jsxs)(t.p,{children:["Flutter has a built-in widget called ",(0,s.jsx)(t.code,{children:"TextFormField"})," that allows users to enter text input. However, their default behavior when and error occurs, is to expand the container and display the error message below the field. The animation for this expansion is not smooth, and is amplified when there are multiple fields in a column."]}),"\n",(0,s.jsxs)("figure",{style:{textAlign:"center"},children:[(0,s.jsx)("img",{src:i(8919).A,alt:"Albuquerque, New Mexico",width:"500"}),(0,s.jsxs)("figcaption",{children:[(0,s.jsx)(t.strong,{children:"Figure 1"}),": Default TextFormField Error Animation"]})]}),"\n",(0,s.jsx)(t.p,{children:"It was also hard to emulate the Duolingo login form field, which is a design goal we wanted to achieve. Having the error message appear below each field will cause the email field error to overlap with the bottom field content."}),"\n",(0,s.jsxs)("figure",{style:{textAlign:"center"},children:[(0,s.jsx)("img",{src:i(9266).A,alt:"Albuquerque, New Mexico",width:"300"}),(0,s.jsxs)("figcaption",{children:[(0,s.jsx)(t.strong,{children:"Figure 2"}),": Duolingo Login Form Field"]})]}),"\n",(0,s.jsx)(t.p,{children:"Our solution was to override this behavior was to combine the fields into a single container, and have their errors displayed together line by line:"}),"\n",(0,s.jsx)("figure",{style:{textAlign:"center"},children:(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:(0,s.jsx)(t.img,{src:i(9021).A+"",width:"1178",height:"2556"})}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:(0,s.jsx)(t.img,{src:i(5860).A+"",width:"1178",height:"2556"})})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.em,{children:"Smooth resizing on new error"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.em,{children:"Smooth resizing on error change"})})]})})]})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsxs)("figcaption",{style:{textAlign:"center"},children:[(0,s.jsx)(t.strong,{children:"Figure 3"}),": Double Error Layout and Smooth Resizing"]}),"\n",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"The container resize animation was tweaked to be smoother. We also made the google sign-in button fade out when the keyboard is up, which also helped with any over-scroll jitter."]}),"\n",(0,s.jsxs)(t.p,{children:['Lastly, server errors, such as "',(0,s.jsx)(t.em,{children:"email exists"}),'" or "',(0,s.jsx)(t.em,{children:"email banned"}),'" are displayed using the ',(0,s.jsx)(t.a,{href:"https://pub.dev/packages/awesome_dialog",children:"AwesomeDialog package"}),", which is a modal dialog that appears on top of the current screen with premade admonitions. In the future, a more cohesive design would be to have server errors display under the login form field."]}),"\n",(0,s.jsxs)("figure",{style:{textAlign:"center"},children:[(0,s.jsx)("img",{src:i(3613).A,alt:"Albuquerque, New Mexico",width:"200"}),(0,s.jsxs)("figcaption",{children:[(0,s.jsx)(t.strong,{children:"Figure 4"}),": Login Submit Error"]})]}),"\n",(0,s.jsx)(t.h3,{id:"login-with-google",children:"Login with Google"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"User Story #61"})}),": ",(0,s.jsx)(t.em,{children:'"As a user I would like to be able to log in with my Google account, so that I can securely access my account'}),'"']}),"\n",(0,s.jsxs)(t.p,{children:["This was an easy functionality to implement when using Firebase Authentication. Firebase Console provides all the necessary configuration files containing Public API Keys for iOS, Android and Web. They also provide a client to handle the OS Specific UI for authenticating and retrieving the credential with their ",(0,s.jsx)(t.a,{href:"https://pub.dev/packages/google_sign_in",children:"google_sign_in package"}),"."]}),"\n",(0,s.jsxs)("figure",{style:{textAlign:"center"},children:[(0,s.jsx)("img",{src:i(5369).A,alt:"Albuquerque, New Mexico",width:"200"}),(0,s.jsxs)("figcaption",{children:[(0,s.jsx)(t.strong,{children:"Figure 4"}),": Google Sign In"]})]}),"\n",(0,s.jsx)(t.h3,{id:"forgot-password",children:"Forgot Password"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"User Story #81"})}),": ",(0,s.jsx)(t.em,{children:'"As a user, I would like the ability to reset my password so that I can still access my account if I forgot my password"'})]}),"\n",(0,s.jsxs)(t.p,{children:["The login screen provides a ",(0,s.jsx)(t.em,{children:"Forgot Password"})," button directly beneath the main sign-in form. When a user taps this button, they are typically prompted to enter their email address, after which a password reset link is sent to their inbox. This is a standard approach in modern authentication flows, ensuring users can regain access to their accounts without manual intervention from support."]}),"\n",(0,s.jsxs)("figure",{style:{textAlign:"center"},children:[(0,s.jsx)("img",{src:i(8283).A,alt:"Albuquerque, New Mexico",width:"200"}),(0,s.jsxs)("figcaption",{children:[(0,s.jsx)(t.strong,{children:"Figure 4"}),": Google Sign In"]})]}),"\n",(0,s.jsxs)(t.p,{children:["We designed ",(0,s.jsx)(t.em,{children:"Forgot Password"})," button to mock the duolingo login screen, which is a design goal we wanted to achieve. The actual modal pop-up however does not. Being stressed for time, we just used the default UI of the awesome_dialog package, which responds well to the keyboard being up, and when the form is submitted. The functionality also does not follow the architecture of the rest of the app, as it is not handled by the login state machine and simply handled inside of the ",(0,s.jsx)(t.code,{children:"onSubmit"})," function of the form (Again due to time constraints)"]})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8283:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/login_reset_password-4a5e9b6e05385ce2737f61c238d7631e.gif"},8453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>a});var n=i(6540);const s={},o=n.createContext(s);function r(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(o.Provider,{value:t},e.children)}},8919:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/login_text_form_field_sucks-e48aac98f191520ad7945a103674f00b.gif"},9021:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/login_email_pass_field_error-585e16e36a81e8ce021b97e6d081912b.gif"},9266:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/login_duolingo_reference-cee3379967aa38222535c55628249143.jpg"}}]);